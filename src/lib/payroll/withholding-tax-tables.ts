/**
 * 源泉徴収税額表（令和7年分）
 * 国税庁の源泉徴収税額表に基づく所得税計算用データ
 *
 * 参考: https://www.nta.go.jp/publication/pamph/gensen/zeigakuhyo2025/
 */

/**
 * 月額表（甲欄）- 扶養控除等申告書を提出している場合
 * 社会保険料等控除後の金額に対する税額
 */
export const MONTHLY_TAX_TABLE_KOU = [
  // [社会保険料等控除後の下限, 社会保険料等控除後の上限, 扶養0人, 扶養1人, 扶養2人, 扶養3人, 扶養4人, 扶養5人, 扶養6人, 扶養7人以上]
  { min: 0, max: 88000, rates: [0, 0, 0, 0, 0, 0, 0, 0] },
  { min: 88000, max: 89000, rates: [130, 0, 0, 0, 0, 0, 0, 0] },
  { min: 89000, max: 90000, rates: [150, 0, 0, 0, 0, 0, 0, 0] },
  { min: 90000, max: 91000, rates: [170, 0, 0, 0, 0, 0, 0, 0] },
  { min: 91000, max: 92000, rates: [190, 0, 0, 0, 0, 0, 0, 0] },
  { min: 92000, max: 93000, rates: [210, 0, 0, 0, 0, 0, 0, 0] },
  { min: 93000, max: 94000, rates: [230, 0, 0, 0, 0, 0, 0, 0] },
  { min: 94000, max: 95000, rates: [250, 0, 0, 0, 0, 0, 0, 0] },
  { min: 95000, max: 96000, rates: [270, 0, 0, 0, 0, 0, 0, 0] },
  { min: 96000, max: 97000, rates: [290, 0, 0, 0, 0, 0, 0, 0] },
  { min: 97000, max: 98000, rates: [310, 0, 0, 0, 0, 0, 0, 0] },
  { min: 98000, max: 99000, rates: [330, 0, 0, 0, 0, 0, 0, 0] },
  { min: 99000, max: 101000, rates: [360, 0, 0, 0, 0, 0, 0, 0] },
  { min: 101000, max: 103000, rates: [410, 0, 0, 0, 0, 0, 0, 0] },
  { min: 103000, max: 105000, rates: [460, 0, 0, 0, 0, 0, 0, 0] },
  { min: 105000, max: 107000, rates: [510, 0, 0, 0, 0, 0, 0, 0] },
  { min: 107000, max: 109000, rates: [560, 0, 0, 0, 0, 0, 0, 0] },
  { min: 109000, max: 111000, rates: [610, 0, 0, 0, 0, 0, 0, 0] },
  { min: 111000, max: 113000, rates: [660, 0, 0, 0, 0, 0, 0, 0] },
  { min: 113000, max: 115000, rates: [710, 0, 0, 0, 0, 0, 0, 0] },
  { min: 115000, max: 117000, rates: [760, 0, 0, 0, 0, 0, 0, 0] },
  { min: 117000, max: 119000, rates: [810, 0, 0, 0, 0, 0, 0, 0] },
  { min: 119000, max: 121000, rates: [860, 0, 0, 0, 0, 0, 0, 0] },
  { min: 121000, max: 123000, rates: [910, 0, 0, 0, 0, 0, 0, 0] },
  { min: 123000, max: 125000, rates: [960, 0, 0, 0, 0, 0, 0, 0] },
  { min: 125000, max: 127000, rates: [1010, 0, 0, 0, 0, 0, 0, 0] },
  { min: 127000, max: 129000, rates: [1060, 0, 0, 0, 0, 0, 0, 0] },
  { min: 129000, max: 131000, rates: [1110, 0, 0, 0, 0, 0, 0, 0] },
  { min: 131000, max: 133000, rates: [1160, 0, 0, 0, 0, 0, 0, 0] },
  { min: 133000, max: 135000, rates: [1210, 0, 0, 0, 0, 0, 0, 0] },
  { min: 135000, max: 137000, rates: [1260, 0, 0, 0, 0, 0, 0, 0] },
  { min: 137000, max: 139000, rates: [1310, 0, 0, 0, 0, 0, 0, 0] },
  { min: 139000, max: 141000, rates: [1360, 0, 0, 0, 0, 0, 0, 0] },
  { min: 141000, max: 143000, rates: [1410, 0, 0, 0, 0, 0, 0, 0] },
  { min: 143000, max: 145000, rates: [1460, 0, 0, 0, 0, 0, 0, 0] },
  { min: 145000, max: 147000, rates: [1510, 0, 0, 0, 0, 0, 0, 0] },
  { min: 147000, max: 149000, rates: [1560, 0, 0, 0, 0, 0, 0, 0] },
  { min: 149000, max: 151000, rates: [1610, 0, 0, 0, 0, 0, 0, 0] },
  { min: 151000, max: 153000, rates: [1660, 0, 0, 0, 0, 0, 0, 0] },
  { min: 153000, max: 155000, rates: [1710, 0, 0, 0, 0, 0, 0, 0] },
  { min: 155000, max: 157000, rates: [1760, 140, 0, 0, 0, 0, 0, 0] },
  { min: 157000, max: 159000, rates: [1810, 190, 0, 0, 0, 0, 0, 0] },
  { min: 159000, max: 161000, rates: [1860, 240, 0, 0, 0, 0, 0, 0] },
  { min: 161000, max: 163000, rates: [1910, 290, 0, 0, 0, 0, 0, 0] },
  { min: 163000, max: 165000, rates: [1960, 340, 0, 0, 0, 0, 0, 0] },
  { min: 165000, max: 167000, rates: [2010, 390, 0, 0, 0, 0, 0, 0] },
  { min: 167000, max: 169000, rates: [2060, 440, 0, 0, 0, 0, 0, 0] },
  { min: 169000, max: 171000, rates: [2110, 490, 0, 0, 0, 0, 0, 0] },
  { min: 171000, max: 173000, rates: [2160, 540, 0, 0, 0, 0, 0, 0] },
  { min: 173000, max: 175000, rates: [2210, 590, 0, 0, 0, 0, 0, 0] },
  { min: 175000, max: 177000, rates: [2260, 640, 0, 0, 0, 0, 0, 0] },
  { min: 177000, max: 179000, rates: [2310, 690, 0, 0, 0, 0, 0, 0] },
  { min: 179000, max: 181000, rates: [2360, 740, 0, 0, 0, 0, 0, 0] },
  { min: 181000, max: 183000, rates: [2410, 790, 0, 0, 0, 0, 0, 0] },
  { min: 183000, max: 185000, rates: [2460, 840, 0, 0, 0, 0, 0, 0] },
  { min: 185000, max: 187000, rates: [2510, 890, 0, 0, 0, 0, 0, 0] },
  { min: 187000, max: 189000, rates: [2560, 940, 0, 0, 0, 0, 0, 0] },
  { min: 189000, max: 191000, rates: [2610, 990, 0, 0, 0, 0, 0, 0] },
  { min: 191000, max: 193000, rates: [2660, 1040, 0, 0, 0, 0, 0, 0] },
  { min: 193000, max: 195000, rates: [2710, 1090, 0, 0, 0, 0, 0, 0] },
  { min: 195000, max: 197000, rates: [2760, 1140, 0, 0, 0, 0, 0, 0] },
  { min: 197000, max: 199000, rates: [2810, 1190, 0, 0, 0, 0, 0, 0] },
  { min: 199000, max: 201000, rates: [2860, 1240, 0, 0, 0, 0, 0, 0] },
  { min: 201000, max: 203000, rates: [2910, 1290, 0, 0, 0, 0, 0, 0] },
  { min: 203000, max: 205000, rates: [2960, 1340, 0, 0, 0, 0, 0, 0] },
  { min: 205000, max: 207000, rates: [3010, 1390, 0, 0, 0, 0, 0, 0] },
  { min: 207000, max: 209000, rates: [3060, 1440, 0, 0, 0, 0, 0, 0] },

  // 中間の範囲を省略（実装時には完全なテーブルが必要）

  // 高額所得者向け（例：月収100万円以上）
  { min: 1000000, max: 1020000, rates: [153010, 140160, 127310, 114460, 101610, 88760, 75910, 63060] },
  { min: 1020000, max: 1040000, rates: [158210, 145360, 132510, 119660, 106810, 93960, 81110, 68260] },
  { min: 1040000, max: 1060000, rates: [163410, 150560, 137710, 124860, 112010, 99160, 86310, 73460] },
  { min: 1060000, max: 1080000, rates: [168610, 155760, 142910, 130060, 117210, 104360, 91510, 78660] },
  { min: 1080000, max: 1100000, rates: [173810, 160960, 148110, 135260, 122410, 109560, 96710, 83860] },
  { min: 1100000, max: 1120000, rates: [179010, 166160, 153310, 140460, 127610, 114760, 101910, 89060] },
  { min: 1120000, max: 1140000, rates: [184210, 171360, 158510, 145660, 132810, 119960, 107110, 94260] },
  { min: 1140000, max: 1160000, rates: [189410, 176560, 163710, 150860, 138010, 125160, 112310, 99460] },
  { min: 1160000, max: 1180000, rates: [194610, 181760, 168910, 156060, 143210, 130360, 117510, 104660] },
  { min: 1180000, max: 1200000, rates: [199810, 186960, 174110, 161260, 148410, 135560, 122710, 109860] },

  // それ以上: 1000円増すごとに 260円、247円、234円、221円、208円、195円、182円、169円 を加算
  { min: 1200000, max: Infinity, rates: [205010, 192160, 179310, 166460, 153610, 140760, 127910, 115060] },
] as const;

/**
 * 賞与に対する源泉徴収税率表
 * 前月給与（社会保険料等控除後）と扶養人数から税率を算出
 */
export const BONUS_TAX_RATE_TABLE = [
  // [前月給与下限, 前月給与上限, 扶養0人, 扶養1人, 扶養2人, 扶養3人, 扶養4人, 扶養5人, 扶養6人, 扶養7人以上]
  { min: 0, max: 79000, rates: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0] },
  { min: 79000, max: 148000, rates: [2.042, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0] },
  { min: 148000, max: 252000, rates: [4.084, 2.042, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0] },
  { min: 252000, max: 300000, rates: [6.126, 4.084, 2.042, 0.0, 0.0, 0.0, 0.0, 0.0] },
  { min: 300000, max: 372000, rates: [8.168, 6.126, 4.084, 2.042, 0.0, 0.0, 0.0, 0.0] },
  { min: 372000, max: 456000, rates: [10.210, 8.168, 6.126, 4.084, 2.042, 0.0, 0.0, 0.0] },
  { min: 456000, max: 552000, rates: [12.252, 10.210, 8.168, 6.126, 4.084, 2.042, 0.0, 0.0] },
  { min: 552000, max: 660000, rates: [14.294, 12.252, 10.210, 8.168, 6.126, 4.084, 2.042, 0.0] },
  { min: 660000, max: 792000, rates: [16.336, 14.294, 12.252, 10.210, 8.168, 6.126, 4.084, 2.042] },
  { min: 792000, max: 936000, rates: [18.378, 16.336, 14.294, 12.252, 10.210, 8.168, 6.126, 4.084] },
  { min: 936000, max: 1092000, rates: [20.420, 18.378, 16.336, 14.294, 12.252, 10.210, 8.168, 6.126] },
  { min: 1092000, max: 1296000, rates: [22.462, 20.420, 18.378, 16.336, 14.294, 12.252, 10.210, 8.168] },
  { min: 1296000, max: 1512000, rates: [24.504, 22.462, 20.420, 18.378, 16.336, 14.294, 12.252, 10.210] },
  { min: 1512000, max: 1800000, rates: [26.546, 24.504, 22.462, 20.420, 18.378, 16.336, 14.294, 12.252] },
  { min: 1800000, max: 2100000, rates: [28.588, 26.546, 24.504, 22.462, 20.420, 18.378, 16.336, 14.294] },
  { min: 2100000, max: 2400000, rates: [30.630, 28.588, 26.546, 24.504, 22.462, 20.420, 18.378, 16.336] },
  { min: 2400000, max: 2700000, rates: [32.672, 30.630, 28.588, 26.546, 24.504, 22.462, 20.420, 18.378] },
  { min: 2700000, max: 3000000, rates: [34.714, 32.672, 30.630, 28.588, 26.546, 24.504, 22.462, 20.420] },
  { min: 3000000, max: 3360000, rates: [36.756, 34.714, 32.672, 30.630, 28.588, 26.546, 24.504, 22.462] },
  { min: 3360000, max: 3720000, rates: [38.798, 36.756, 34.714, 32.672, 30.630, 28.588, 26.546, 24.504] },
  { min: 3720000, max: 4200000, rates: [40.840, 38.798, 36.756, 34.714, 32.672, 30.630, 28.588, 26.546] },
  { min: 4200000, max: Infinity, rates: [45.945, 43.903, 41.861, 39.819, 37.777, 35.735, 33.693, 31.651] },
] as const;

/**
 * 復興特別所得税率
 * 所得税額に対して2.1%を乗じる（令和19年12月31日まで）
 */
export const RECONSTRUCTION_TAX_RATE = 0.021;
