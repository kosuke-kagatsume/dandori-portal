# DRM Suite 見積システム コア要件メモリ

## 🎯 最重要ポイント
**見積機能はCRMの真価を決める肝となる機能**

## 核心的な要件

### 1. Excel的操作性（絶対必須）
- Tab/Enterキーでのセル移動
- コピー&ペースト（Ctrl+C/V）
- 右クリックメニュー（行挿入・削除）
- 計算式の自動反映
- ドラッグ&ドロップ

### 2. 3つの見積タイプ
1. **詳細見積**: Excel型で細かく積み上げ
2. **資金計画書**: 新築向けざっくり見積
3. **マスター連携**: メーカー品番から自動計算

### 3. テンプレート階層
```
会社標準 → 店舗/部署 → 個人 → カスタム
```
- 作業中いつでも呼び出し可能
- 部分選択・挿入
- 複数テンプレート合成
- 過去見積と同じUIで呼び出し

### 4. クイック見積機能
- 顧客登録なしで作成可能
- 後からリマインダーで登録促進
- ダッシュボードに警告表示

### 5. マスターデータ
- メーカー: 30〜100社
- 商品点数: 約1万点
- 月1回CSVインポート更新
- 掛け率は一律

### 6. 承認フロー
- 金額による承認者変更
- 並列承認
- 条件分岐
- Dandoriポータル連携
- システム管理者が設定

### 7. マルチテナント
- 1社1テナント
- スーパー管理アカウント
- 各社でカスタマイズ可能

## AI機能の統合
- 見積もり自動生成
- 価格最適化
- リスク分析（漏れ・異常値）
- 自然言語入力
- 予測入力

## ユーザー体験の核心
**「使う時に悩まない、でも用途によって使い分けられる」**

## 技術的なポイント
- Luckysheet or Handsontable for スプレッドシート
- Next.js 14 + TypeScript
- OpenAI GPT-4 for AI機能
- Puppeteer for PDF生成（日本語対応必須）